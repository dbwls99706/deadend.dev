{
  "schema_version": "1.0.0",
  "id": "git/config-email-autodetect/git2-linux",
  "url": "https://deadends.dev/git/config-email-autodetect/git2-linux",
  "error": {
    "signature": "fatal: unable to auto-detect email address â€” git user.email not configured",
    "regex": "(?:unable to auto-detect email address|Please tell me who you are|user\\.(?:email|name).*not set|Author identity unknown|Committer identity unknown)",
    "domain": "git",
    "category": "configuration_error",
    "first_seen": "2015-01-01",
    "last_confirmed": "2026-02-14"
  },
  "environment": {
    "runtime": {
      "name": "git",
      "version_range": ">=2.0,<3.0"
    },
    "os": "linux",
    "additional": {
      "common_contexts": [
        "First git commit on new machine or container",
        "CI/CD pipelines without git identity configured",
        "Docker containers running git commands",
        "Fresh OS installation"
      ]
    }
  },
  "verdict": {
    "resolvable": "true",
    "fix_success_rate": 0.99,
    "confidence": 0.98,
    "last_updated": "2026-02-14",
    "summary": "Git requires user.name and user.email to be configured before creating commits. Without these, git cannot create commit objects. This error typically appears on first use, in CI environments, or in containers. The fix is straightforward but scope confusion (local vs global vs system) is common."
  },
  "dead_ends": [
    {
      "action": "Setting user.email only at the global level when working on multiple projects with different identities",
      "why_fails": "Global config (~/.gitconfig) applies to all repositories. If you contribute to work and personal projects from the same machine with different email addresses, a single global setting will use the wrong email for some repos. Use per-repo local config or conditional includes instead.",
      "fail_rate": 0.6,
      "sources": [
        "https://git-scm.com/docs/git-config"
      ],
      "condition": "When using multiple git identities"
    },
    {
      "action": "Setting environment variables GIT_AUTHOR_EMAIL without GIT_COMMITTER_EMAIL",
      "why_fails": "Git has separate author and committer fields. If you only set GIT_AUTHOR_EMAIL, the committer will still be unknown. You need to set both GIT_AUTHOR_EMAIL and GIT_COMMITTER_EMAIL (and their NAME counterparts) for full coverage. The git config user.email method sets both at once.",
      "fail_rate": 0.7,
      "sources": [
        "https://git-scm.com/docs/git-commit"
      ],
      "condition": "In CI/CD scripts using environment variables"
    }
  ],
  "workarounds": [
    {
      "action": "Configure git user globally for personal machines",
      "success_rate": 0.99,
      "how": "Run: 'git config --global user.name \"Your Name\"' and 'git config --global user.email \"you@example.com\"'. This sets the identity in ~/.gitconfig for all repositories. Verify with 'git config --global --list'.",
      "sources": [
        "https://git-scm.com/docs/git-config"
      ],
      "condition": "Single-identity personal machine"
    },
    {
      "action": "Configure per-repository identity for multi-identity setups",
      "success_rate": 0.98,
      "how": "Inside the repo, run: 'git config user.name \"Work Name\"' and 'git config user.email \"work@company.com\"' (no --global). This stores the identity in .git/config for that repo only. For enforcement, set 'git config --global user.useConfigOnly true' to make git error if no local config exists.",
      "sources": [
        "https://git-scm.com/docs/git-config"
      ],
      "condition": "When using different identities for different projects"
    },
    {
      "action": "Use conditional includes for directory-based identity switching",
      "success_rate": 0.95,
      "how": "Add to ~/.gitconfig: '[includeIf \"gitdir:~/work/\"]\\n  path = ~/.gitconfig-work'. Create ~/.gitconfig-work with '[user]\\n  email = work@company.com\\n  name = Work Name'. All repos under ~/work/ automatically use the work identity.",
      "tradeoff": "Requires Git 2.13+ for conditional includes support",
      "sources": [
        "https://git-scm.com/docs/git-config#_conditional_includes"
      ],
      "condition": "When projects are organized by directory (work vs personal)"
    },
    {
      "action": "Set identity in CI/CD pipelines via environment variables",
      "success_rate": 0.97,
      "how": "Add to CI config: 'git config user.email \"ci@yourcompany.com\"' and 'git config user.name \"CI Bot\"'. Or set env vars: GIT_AUTHOR_NAME, GIT_AUTHOR_EMAIL, GIT_COMMITTER_NAME, GIT_COMMITTER_EMAIL. GitHub Actions: use 'github-actions[bot]@users.noreply.github.com'.",
      "sources": [
        "https://git-scm.com/docs/git-config"
      ],
      "condition": "In automated CI/CD environments"
    }
  ],
  "transition_graph": {
    "leads_to": [
      {
        "error_id": "git/commit-empty-aborting/git2-linux",
        "probability": 0.1,
        "condition": "After fixing email, developer may face empty commit if staging was also not done"
      }
    ],
    "preceded_by": [],
    "frequently_confused_with": [
      {
        "error_id": "git/credential-rejected/git2-linux",
        "distinction": "credential-rejected is about authentication to remote servers (push/pull). config-email is about local commit identity. You can commit without credentials, and you can push without local identity."
      }
    ]
  },
  "metadata": {
    "generated_by": "manual",
    "generation_date": "2026-02-14",
    "review_status": "human_reviewed",
    "evidence_count": 150,
    "last_verification": "2026-02-14"
  }
}
