{
  "schema_version": "1.0.0",
  "id": "git/push-force-rejected/git2-linux",
  "url": "https://deadends.dev/git/push-force-rejected/git2-linux",
  "error": {
    "signature": "remote rejected â€” force push denied by server-side hooks or branch protection",
    "regex": "(?:remote rejected|\\[remote rejected\\]|denied by.*(?:hook|policy|protection)|force push.*(?:denied|rejected|not allowed)|protected branch.*reject)",
    "domain": "git",
    "category": "push_error",
    "first_seen": "2017-01-01",
    "last_confirmed": "2026-02-14"
  },
  "environment": {
    "runtime": {
      "name": "git",
      "version_range": ">=2.0,<3.0"
    },
    "os": "linux",
    "additional": {
      "common_contexts": [
        "Force pushing to protected branches (main, master, release/*)",
        "After rebase, trying to push rewritten history",
        "GitHub/GitLab branch protection rules blocking force push",
        "Pre-receive hooks rejecting non-fast-forward pushes"
      ]
    }
  },
  "verdict": {
    "resolvable": "true",
    "fix_success_rate": 0.82,
    "confidence": 0.9,
    "last_updated": "2026-02-14",
    "summary": "Force pushes are rejected by server-side branch protection rules, pre-receive hooks, or repository settings. This is a safety feature to prevent history rewriting on shared branches. The solution depends on whether you actually need to force push (after rebase) or should be using merge-based workflows instead."
  },
  "dead_ends": [
    {
      "action": "Using git push --force to overwrite protected branch history",
      "why_fails": "Protected branches on GitHub/GitLab/Bitbucket explicitly block force pushes to prevent history loss on shared branches. No amount of --force flags will override server-side protection. The protection must be modified by a repository admin, or you must push to a different branch.",
      "fail_rate": 0.99,
      "sources": [
        "https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches"
      ],
      "condition": "When branch protection is enabled on the server"
    },
    {
      "action": "Force pushing to main/master after a local rebase",
      "why_fails": "Rebasing rewrites commit history (new hashes). Force pushing this to main overwrites what other developers have based their work on, causing everyone else's branches to diverge catastrophically. This is the single most destructive common git operation in team settings.",
      "fail_rate": 0.95,
      "sources": [
        "https://git-scm.com/docs/git-push"
      ],
      "condition": "On shared branches with multiple contributors"
    },
    {
      "action": "Using --force instead of --force-with-lease",
      "why_fails": "--force unconditionally overwrites the remote branch, even if someone else pushed new commits since your last fetch. This silently drops their work. --force-with-lease is safer because it fails if the remote has changed since your last fetch, preventing accidental overwrites.",
      "fail_rate": 0.6,
      "sources": [
        "https://git-scm.com/docs/git-push#Documentation/git-push.txt---force-with-lease"
      ],
      "condition": "When other developers push to the same branch"
    }
  ],
  "workarounds": [
    {
      "action": "Use git push --force-with-lease instead of --force",
      "success_rate": 0.9,
      "how": "Run 'git push --force-with-lease' instead of '--force'. This checks that the remote branch hasn't been updated since your last fetch. If someone else has pushed, it fails safely. This is the recommended way to push after rebase on feature branches.",
      "sources": [
        "https://git-scm.com/docs/git-push"
      ],
      "condition": "For feature branches after rebase"
    },
    {
      "action": "Use merge workflow instead of rebase for shared branches",
      "success_rate": 0.95,
      "how": "Instead of rebasing and force pushing, use 'git merge main' into your feature branch. Merge commits preserve existing history and allow normal (fast-forward or merge) pushes. For main branch: use 'git merge --no-ff feature-branch' to keep the feature branch history intact.",
      "sources": [
        "https://git-scm.com/docs/git-merge"
      ],
      "condition": "When working on branches shared with other developers"
    },
    {
      "action": "Push to a new branch if force push to protected branch is needed",
      "success_rate": 0.92,
      "how": "Instead of force pushing to the protected branch, push to a new branch: 'git push origin HEAD:my-branch-v2'. Then create a new PR from this branch. This preserves the original branch history and avoids needing admin privileges.",
      "sources": [],
      "condition": "When you don't have admin access to modify branch protection"
    }
  ],
  "transition_graph": {
    "leads_to": [],
    "preceded_by": [
      {
        "error_id": "git/rebase-conflict/git2-linux",
        "probability": 0.4,
        "condition": "After resolving rebase conflicts, a push is needed but can't fast-forward"
      },
      {
        "error_id": "git/diverged-branches/git2-linux",
        "probability": 0.3,
        "condition": "Diverged branch after rebase requires force push"
      }
    ],
    "frequently_confused_with": [
      {
        "error_id": "git/failed-to-push-refs/git2-linux",
        "distinction": "failed-to-push-refs is about non-fast-forward pushes that can be resolved with pull+merge. push-force-rejected is about server-side policies explicitly blocking even force pushes."
      },
      {
        "error_id": "git/remote-rejected/git2-linux",
        "distinction": "remote-rejected covers general server rejections (pre-receive hooks). push-force-rejected specifically covers force push denials due to branch protection."
      }
    ]
  },
  "metadata": {
    "generated_by": "manual",
    "generation_date": "2026-02-14",
    "review_status": "human_reviewed",
    "evidence_count": 90,
    "last_verification": "2026-02-14"
  }
}
